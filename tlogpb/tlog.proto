syntax = "proto3";

package tlogpb;

message Record {
    repeated string labels = 1;
    Location location = 2;
    Message msg = 3;
    SpanStart span_start = 4;
    SpanFinish span_finish = 5;
}

message Location {
    int64 pc = 1;
    string name = 2;
    string file = 3;
    int32 line = 4;
}

message Message {
    int64 span = 1;
    int64 location = 2;
    int64 time = 3;
    string text = 4;
}

message SpanStart {
    int64 id = 1;
    int64 parent = 2;
    int64 location = 3;
    int64 started = 4;
}

message SpanFinish {
    int64 id = 1;
    int64 elapsed = 2;
    int64 flags = 3;
}
